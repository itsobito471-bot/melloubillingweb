"use strict";(self.webpackChunkmellou_billing=self.webpackChunkmellou_billing||[]).push([[797],{2797:(C,g,t)=>{t.r(g),t.d(g,{SettingsModule:()=>S});var h=t(6895),Z=t(4575),o=t(433),n=t(4650),v=t(4239),d=t(9651),p=t(1971),l=t(3679),m=t(6704),z=t(5635),c=t(6616),x=t(7044),T=t(1811),u=t(5681),f=t(7096);const b=[{path:"",component:(()=>{const e=class{constructor(r,i,a){this.fb=r,this.appService=i,this.message=a,this.loading=!1,this.saving=!1}ngOnInit(){this.initForm(),this.loadSettings()}initForm(){this.settingsForm=this.fb.group({companyName:["",[o.kI.required]],gstin:[""],address:[""],phone:[""],email:["",[o.kI.email]],cgstPercentage:[2.5,[o.kI.required,o.kI.min(0),o.kI.max(100)]],sgstPercentage:[2.5,[o.kI.required,o.kI.min(0),o.kI.max(100)]],accountName:[""],accountNo:[""],ifscCode:[""]})}loadSettings(){this.loading=!0,this.appService.getSettings().subscribe({next:r=>{this.settingsForm.patchValue(r),this.loading=!1},error:()=>{this.message.error("Failed to load settings"),this.loading=!1}})}saveSettings(){this.settingsForm.valid?(this.saving=!0,this.appService.updateSettings(this.settingsForm.value).subscribe({next:()=>{this.message.success("Settings saved successfully"),this.saving=!1},error:()=>{this.message.error("Failed to save settings"),this.saving=!1}})):Object.values(this.settingsForm.controls).forEach(r=>{r.invalid&&(r.markAsDirty(),r.updateValueAndValidity({onlySelf:!0}))})}};let s=e;return e.\u0275fac=function(i){return new(i||e)(n.Y36(o.qu),n.Y36(v.z),n.Y36(d.dD))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-settings"]],decls:79,vars:32,consts:[[1,"settings-container"],[1,"header"],[2,"font-weight","700","margin-bottom","0"],[1,"subtitle"],[3,"nzSpinning"],[1,"settings-card",3,"nzBordered"],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit"],[1,"section-title"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzXs","nzMd"],["nzRequired",""],["nzErrorTip","Please enter company name"],["nz-input","","formControlName","companyName","placeholder","My Business Name"],["nz-input","","formControlName","gstin","placeholder","GST Number",2,"text-transform","uppercase"],["nz-input","","formControlName","phone","placeholder","Contact Number"],["nzErrorTip","Invalid email"],["nz-input","","formControlName","email","placeholder","Email Address","type","email"],["nzErrorTip","Please enter CGST percentage"],["formControlName","cgstPercentage","nzPlaceHolder","e.g. 2.5",2,"width","100%",3,"nzMin","nzMax","nzStep"],["nzErrorTip","Please enter SGST percentage"],["formControlName","sgstPercentage","nzPlaceHolder","e.g. 2.5",2,"width","100%",3,"nzMin","nzMax","nzStep"],["nz-col","",3,"nzSpan"],["nz-input","","formControlName","address","rows","3","placeholder","Business Address"],["nz-row","",2,"margin-top","24px",3,"nzGutter"],["nz-input","","formControlName","accountName","placeholder","Mellou"],["nz-input","","formControlName","accountNo","placeholder","Account Number"],["nz-input","","formControlName","ifscCode","placeholder","HDFC0000295",2,"text-transform","uppercase"],[1,"form-actions"],["nz-button","","nzType","primary",3,"nzLoading"]],template:function(i,a){1&i&&(n.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),n._uU(3,"Settings"),n.qZA(),n.TgZ(4,"span",3),n._uU(5,"Manage your business configuration"),n.qZA()(),n.TgZ(6,"nz-spin",4)(7,"nz-card",5)(8,"form",6),n.NdJ("ngSubmit",function(){return a.saveSettings()}),n.TgZ(9,"h3",7),n._uU(10,"Company Information"),n.qZA(),n.TgZ(11,"div",8)(12,"div",9)(13,"nz-form-item")(14,"nz-form-label",10),n._uU(15,"Company Name"),n.qZA(),n.TgZ(16,"nz-form-control",11),n._UZ(17,"input",12),n.qZA()()(),n.TgZ(18,"div",9)(19,"nz-form-item")(20,"nz-form-label"),n._uU(21,"GSTIN (Your Company)"),n.qZA(),n.TgZ(22,"nz-form-control"),n._UZ(23,"input",13),n.qZA()()(),n.TgZ(24,"div",9)(25,"nz-form-item")(26,"nz-form-label"),n._uU(27,"Phone"),n.qZA(),n.TgZ(28,"nz-form-control"),n._UZ(29,"input",14),n.qZA()()(),n.TgZ(30,"div",9)(31,"nz-form-item")(32,"nz-form-label"),n._uU(33,"Email"),n.qZA(),n.TgZ(34,"nz-form-control",15),n._UZ(35,"input",16),n.qZA()()(),n.TgZ(36,"div",9)(37,"nz-form-item")(38,"nz-form-label",10),n._uU(39,"CGST (%)"),n.qZA(),n.TgZ(40,"nz-form-control",17),n._UZ(41,"nz-input-number",18),n.qZA()()(),n.TgZ(42,"div",9)(43,"nz-form-item")(44,"nz-form-label",10),n._uU(45,"SGST (%)"),n.qZA(),n.TgZ(46,"nz-form-control",19),n._UZ(47,"nz-input-number",20),n.qZA()()(),n.TgZ(48,"div",21)(49,"nz-form-item")(50,"nz-form-label"),n._uU(51,"Address"),n.qZA(),n.TgZ(52,"nz-form-control"),n._UZ(53,"textarea",22),n.qZA()()()(),n.TgZ(54,"div",23)(55,"div",21)(56,"h3",7),n._uU(57,"Banking Information"),n.qZA()(),n.TgZ(58,"div",9)(59,"nz-form-item")(60,"nz-form-label"),n._uU(61,"Account Name"),n.qZA(),n.TgZ(62,"nz-form-control"),n._UZ(63,"input",24),n.qZA()()(),n.TgZ(64,"div",9)(65,"nz-form-item")(66,"nz-form-label"),n._uU(67,"Account Number"),n.qZA(),n.TgZ(68,"nz-form-control"),n._UZ(69,"input",25),n.qZA()()(),n.TgZ(70,"div",9)(71,"nz-form-item")(72,"nz-form-label"),n._uU(73,"IFSC Code"),n.qZA(),n.TgZ(74,"nz-form-control"),n._UZ(75,"input",26),n.qZA()()()(),n.TgZ(76,"div",27)(77,"button",28),n._uU(78,"Save Changes"),n.qZA()()()()()()),2&i&&(n.xp6(6),n.Q6J("nzSpinning",a.loading),n.xp6(1),n.Q6J("nzBordered",!1),n.xp6(1),n.Q6J("formGroup",a.settingsForm),n.xp6(3),n.Q6J("nzGutter",24),n.xp6(1),n.Q6J("nzXs",24)("nzMd",12),n.xp6(6),n.Q6J("nzXs",24)("nzMd",12),n.xp6(6),n.Q6J("nzXs",24)("nzMd",12),n.xp6(6),n.Q6J("nzXs",24)("nzMd",12),n.xp6(6),n.Q6J("nzXs",24)("nzMd",12),n.xp6(5),n.Q6J("nzMin",0)("nzMax",100)("nzStep",.1),n.xp6(1),n.Q6J("nzXs",24)("nzMd",12),n.xp6(5),n.Q6J("nzMin",0)("nzMax",100)("nzStep",.1),n.xp6(1),n.Q6J("nzSpan",24),n.xp6(6),n.Q6J("nzGutter",24),n.xp6(1),n.Q6J("nzSpan",24),n.xp6(3),n.Q6J("nzXs",24)("nzMd",8),n.xp6(6),n.Q6J("nzXs",24)("nzMd",8),n.xp6(6),n.Q6J("nzXs",24)("nzMd",8),n.xp6(7),n.Q6J("nzLoading",a.saving))},dependencies:[o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,p.bd,l.t3,l.SK,m.Lr,m.Nx,m.iK,m.Fd,z.Zp,c.ix,x.w,T.dQ,u.W,f._V],styles:[".settings-container[_ngcontent-%COMP%]{padding:24px;background-color:#f3f4f6;min-height:100vh}.header[_ngcontent-%COMP%]{margin-bottom:32px}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;color:#1f1f1f}.subtitle[_ngcontent-%COMP%]{color:#6b7280;font-size:14px}.settings-card[_ngcontent-%COMP%]{border-radius:12px;box-shadow:0 4px 6px -1px #0000000d,0 2px 4px -1px #00000006;border:1px solid rgba(229,231,235,.5)}.section-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#374151;margin-bottom:24px;padding-bottom:12px;border-bottom:1px solid #e5e7eb}.form-actions[_ngcontent-%COMP%]{margin-top:24px;text-align:right;border-top:1px solid #f3f4f6;padding-top:16px}"]}),s})()}];let S=(()=>{const e=class{};let s=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[h.ez,o.u5,o.UX,Z.Bz.forChild(b),p.vh,m.U5,z.o7,c.sL,d.gR,u.j,l.Jb,f.Zf]}),s})()}}]);