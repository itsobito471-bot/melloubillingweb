"use strict";(self.webpackChunkmellou_billing=self.webpackChunkmellou_billing||[]).push([[797],{2797:(C,g,t)=>{t.r(g),t.d(g,{SettingsModule:()=>S});var z=t(6895),h=t(4575),e=t(433),n=t(4650),v=t(4239),d=t(9651),p=t(1971),l=t(3679),m=t(6704),f=t(5635),c=t(6616),Z=t(7044),x=t(1811),u=t(5681);const b=[{path:"",component:(()=>{const o=class{constructor(s,i,a){this.fb=s,this.appService=i,this.message=a,this.loading=!1,this.saving=!1}ngOnInit(){this.initForm(),this.loadSettings()}initForm(){this.settingsForm=this.fb.group({companyName:["",[e.kI.required]],gstin:[""],address:[""],phone:[""],email:["",[e.kI.email]]})}loadSettings(){this.loading=!0,this.appService.getSettings().subscribe({next:s=>{this.settingsForm.patchValue(s),this.loading=!1},error:()=>{this.message.error("Failed to load settings"),this.loading=!1}})}saveSettings(){this.settingsForm.valid?(this.saving=!0,this.appService.updateSettings(this.settingsForm.value).subscribe({next:()=>{this.message.success("Settings saved successfully"),this.saving=!1},error:()=>{this.message.error("Failed to save settings"),this.saving=!1}})):Object.values(this.settingsForm.controls).forEach(s=>{s.invalid&&(s.markAsDirty(),s.updateValueAndValidity({onlySelf:!0}))})}};let r=o;return o.\u0275fac=function(i){return new(i||o)(n.Y36(e.qu),n.Y36(v.z),n.Y36(d.dD))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-settings"]],decls:45,vars:14,consts:[[1,"settings-container"],[1,"header"],[2,"font-weight","700","margin-bottom","0"],[1,"subtitle"],[3,"nzSpinning"],[1,"settings-card",3,"nzBordered"],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit"],[1,"section-title"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzXs","nzMd"],["nzRequired",""],["nzErrorTip","Please enter company name"],["nz-input","","formControlName","companyName","placeholder","My Business Name"],["nz-input","","formControlName","gstin","placeholder","GST Number",2,"text-transform","uppercase"],["nz-input","","formControlName","phone","placeholder","Contact Number"],["nzErrorTip","Invalid email"],["nz-input","","formControlName","email","placeholder","Email Address","type","email"],["nz-col","",3,"nzSpan"],["nz-input","","formControlName","address","rows","3","placeholder","Business Address"],[1,"form-actions"],["nz-button","","nzType","primary",3,"nzLoading"]],template:function(i,a){1&i&&(n.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),n._uU(3,"Settings"),n.qZA(),n.TgZ(4,"span",3),n._uU(5,"Manage your business configuration"),n.qZA()(),n.TgZ(6,"nz-spin",4)(7,"nz-card",5)(8,"form",6),n.NdJ("ngSubmit",function(){return a.saveSettings()}),n.TgZ(9,"h3",7),n._uU(10,"Company Information"),n.qZA(),n.TgZ(11,"div",8)(12,"div",9)(13,"nz-form-item")(14,"nz-form-label",10),n._uU(15,"Company Name"),n.qZA(),n.TgZ(16,"nz-form-control",11),n._UZ(17,"input",12),n.qZA()()(),n.TgZ(18,"div",9)(19,"nz-form-item")(20,"nz-form-label"),n._uU(21,"GSTIN (Your Company)"),n.qZA(),n.TgZ(22,"nz-form-control"),n._UZ(23,"input",13),n.qZA()()(),n.TgZ(24,"div",9)(25,"nz-form-item")(26,"nz-form-label"),n._uU(27,"Phone"),n.qZA(),n.TgZ(28,"nz-form-control"),n._UZ(29,"input",14),n.qZA()()(),n.TgZ(30,"div",9)(31,"nz-form-item")(32,"nz-form-label"),n._uU(33,"Email"),n.qZA(),n.TgZ(34,"nz-form-control",15),n._UZ(35,"input",16),n.qZA()()(),n.TgZ(36,"div",17)(37,"nz-form-item")(38,"nz-form-label"),n._uU(39,"Address"),n.qZA(),n.TgZ(40,"nz-form-control"),n._UZ(41,"textarea",18),n.qZA()()()(),n.TgZ(42,"div",19)(43,"button",20),n._uU(44,"Save Changes"),n.qZA()()()()()()),2&i&&(n.xp6(6),n.Q6J("nzSpinning",a.loading),n.xp6(1),n.Q6J("nzBordered",!1),n.xp6(1),n.Q6J("formGroup",a.settingsForm),n.xp6(3),n.Q6J("nzGutter",24),n.xp6(1),n.Q6J("nzXs",24)("nzMd",12),n.xp6(6),n.Q6J("nzXs",24)("nzMd",12),n.xp6(6),n.Q6J("nzXs",24)("nzMd",12),n.xp6(6),n.Q6J("nzXs",24)("nzMd",12),n.xp6(6),n.Q6J("nzSpan",24),n.xp6(7),n.Q6J("nzLoading",a.saving))},dependencies:[e._Y,e.Fj,e.JJ,e.JL,e.sg,e.u,p.bd,l.t3,l.SK,m.Lr,m.Nx,m.iK,m.Fd,f.Zp,c.ix,Z.w,x.dQ,u.W],styles:[".settings-container[_ngcontent-%COMP%]{padding:24px;background-color:#f3f4f6;min-height:100vh}.header[_ngcontent-%COMP%]{margin-bottom:32px}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;color:#1f1f1f}.subtitle[_ngcontent-%COMP%]{color:#6b7280;font-size:14px}.settings-card[_ngcontent-%COMP%]{border-radius:12px;box-shadow:0 4px 6px -1px #0000000d,0 2px 4px -1px #00000006;border:1px solid rgba(229,231,235,.5)}.section-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#374151;margin-bottom:24px;padding-bottom:12px;border-bottom:1px solid #e5e7eb}.form-actions[_ngcontent-%COMP%]{margin-top:24px;text-align:right;border-top:1px solid #f3f4f6;padding-top:16px}"]}),r})()}];let S=(()=>{const o=class{};let r=o;return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[z.ez,e.u5,e.UX,h.Bz.forChild(b),p.vh,m.U5,f.o7,c.sL,d.gR,u.j,l.Jb]}),r})()}}]);